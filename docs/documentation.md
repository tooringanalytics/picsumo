# Writing a sails app


## What is Sails?


Simply put, Sails is an MVC framework for web applications built using
nodeJS. Typically a web application will have several basic components,
encapsulating distinct functionalities:


    * HTML templates, or Views: The basic look and feel of your web application
    comes from HTML -- The HTML is mostly dynamically generated by
    the server, based on some internal business logic.
    * Business Logic / Controller: The bahavorial aspects of your application
    are encapsulated in the controller. The controller contains logic to respond to user-initiated requests.
    * Model / Active Record: The data aspect of your web application -- this
    could be data stored in a database, that is bound to certain objects at
    run-time. An MVC framework will often provide a mapping from the database
    to run-time objects using the ActiveRecord pattern.


All web frameworks, across different languages have their own way of
providing these features. So does Sails. We will examine how.

### NodeJS?

For developers unfamiliar with the Javascript ecosystem: nodeJS is a server-side Javascript environment, which is often used to build server-side web applications. It has become quite ubiquitous in recent years. Why?

Well, Javascript has a very simple model for implementing concurrent (or rather deferred procedure calling) operations. Remember, Javascript began life as an in-browser language, mainly used to add interactivity to HTML user
interfaces. In that context, it is important to have a mechanism for asynchronous processing and callbacks. NodeJS made it possible for developers to also build server-side components in Javascript, and use this asynchronous
task execution paradigm in server-side applications.

### Where does Sails fit into it?

Over time, several frameworks appeared that made it easier to build full-fledged web applications on node JS. These frameworks typically implement standard patterns, such as MVC (Model-View-Controller), ActiveRecords, Inversion of Control and Dependency Injection. Sails is one such framework.

## Creating a new Sails Application

### First Steps

To create a sails application,

1. Install sails globally `sudo npm install -g sails`
1. Create sails folder `sails new my-sails-app`

This creates a new sails application called `my-sails-app` in the
`my-sails-app` folder. To run the application locally, just enter: `sails lift`.

### What does it mean?

A sails app is broken down and organized into several neat folders. Each folder
corresponds to a component of the application, such as a collection of views,
or models, or controllers, or configuration information etc.

When we execute `sails lift`, the sails framework will 'lift' this into a node
web application, piecing together, reorganizing, and compiling the various bits as necessary.

How sails pieces these bits together, depends on the rules declared in the
app's tasks and configuration folders. For instance, consider the `assets/`
folder, which contains all the static assets (such as javascript files,
images, CSS etc.). In Sails, the files in the `assets/` directory are processed and synced to a hidden temporary directory (.tmp/public/) when
you lift your app. The contents of this .tmp/public folder are what Sails actually serves.


## Anatomy of a Sails Application

### app.js

This is a node script that allows you to run the application without using
`sails lift` from the command line. As per sails documentation, "This is handy
in situations where the sails CLI is not relevant or useful."

### Grunt & the Gruntfile

Sails uses `grunt` as its build system. to install grunt, you need to:

1. `npm install -g grunt` (usually installed as part of sails' dependencies)
2. `npm install -g grunt-cli` (if you want to run grunt as a standalone command)

Grunt is a task runner written in Javascript. It has an extensive plugin system for all build & deploy tasks in a Javascript applciation lifecycle. When you create a new sails application, it also creates a `Gruntfile.js` file in the application's root directory. This Node script is executed when you run `grunt` or `sails lift`.

 * It's purpose is to load the Grunt tasks in your project's `tasks`
 * folder, and allow you to add and remove tasks as you see fit.


### Config

### Assets

#### Styles

#### Javascript

#### Templates

### Views
